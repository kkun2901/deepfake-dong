# 🧩 프로젝트 PRD --- REALGUARD Dataset App (수정본)

**부제:** "딥페이크 시대, 진짜 얼굴을 지키는 데이터 플랫폼"

**수정일:** 2025-11-07  
**수정 사유:** 현재 프로젝트 구현 상태 및 패키지 호환성 반영

------------------------------------------------------------------------

## 1️⃣ 프로젝트 개요

### 📌 프로젝트 명

**REALGUARD --- Responsible Deepfake Defense Dataset**

### 🎯 목표

사용자가 본인 얼굴·음성 데이터를 직접 촬영하고 라벨링하여\
딥페이크 탐지 AI가 현실적인 데이터를 학습할 수 있도록 돕는\
**공익형 데이터 수집·분석 플랫폼** 개발

------------------------------------------------------------------------

## 2️⃣ 핵심 문제 정의

-   현재 딥페이크 탐지 모델은 많지만,\
    현실을 반영한 **윤리적이고 다양한 얼굴·음성 데이터**가 부족함.\
-   대부분의 공개 데이터셋은 **연예인, 스튜디오 조명, 정제된 환경**에
    한정되어 있음.\
-   따라서 실제 SNS·영상통화·일상환경에서 탐지 성능이 급격히 떨어짐.

👉 **REALGUARD는 "현실형·윤리형 데이터셋"으로 이 문제를 해결한다.**

------------------------------------------------------------------------

## 3️⃣ 주요 기능 요약

  -----------------------------------------------------------------------
  구분                    기능                    설명                    상태
  ----------------------- ----------------------- ----------------------- -----------------------
  **1. 데이터 생성**      얼굴·음성 촬영          앱 내 카메라·마이크로    ✅ 구현 완료
                                                  사용자 데이터 직접 생성  (expo-camera, expo-av)

  **2. 자동 라벨링**      환경/조명/표정 등       촬영                    🔄 향후 구현
                          메타데이터 자동 수집    환경·조도·기기정보를    (MediaPipe 활용 예정)
                                                  자동 라벨링

  **3. 개인정보 보호**    익명화·암호화 저장      사용자 ID와 데이터 분리  🔄 향후 구현
                                                  저장, AES 암호화        (AES256 암호화 예정)

  **4. 데이터 업로드**    클라우드 저장 및 검수   Firebase Storage에      ✅ 구현 완료
                                                  안전 저장              (Firebase Admin SDK)

  **5. 탐지 AI 연동**     탐지 성능 개선          수집된 데이터로 모델    ✅ 구현 완료
                                                  fine-tuning 가능       (PyTorch + Transformers)

  **6. 리워드 시스템**    포인트/뱃지 제공        데이터 기여도에 따른    🔄 향후 구현
                                                  리워드 제공            (Firestore 연동 예정)

  **7. 시각화 피드백**    기여도 및 탐지 향상     "당신 데이터로 모델      🔄 향후 구현
                          수치 표시               성능 +0.6% 향상" 식    (Pandas + Plotly 예정)
                                                  피드백

  **8. 데이터셋 다운로드  필터 기반 검색·다운로드 인증된 연구자에게 공개  ✅ 부분 구현
  (연구자용)**                                    API 제공               (JSONL/CSV 다운로드)
  -----------------------------------------------------------------------

**상태 표기:**
- ✅ 구현 완료: 현재 프로젝트에 구현되어 있음
- 🔄 향후 구현: PRD 요구사항이지만 아직 구현되지 않음
- ⚠️ 수정 필요: 현재 구현과 PRD 요구사항이 다름

------------------------------------------------------------------------

## 4️⃣ 사용자 플로우

1️⃣ **회원가입 & 동의**\
\> 개인정보 보호 및 데이터 활용 동의 절차 → 앱 사용 시작  
**현재 상태:** 🔄 향후 구현 (현재는 user_id만 사용)

2️⃣ **데이터 촬영**\
\> 얼굴 영상 (정면, 측면, 다양한 조명) 및 음성 녹음  
**현재 상태:** ✅ 구현 완료 (RecordScreen, 스크린 레코딩)

3️⃣ **자동 라벨링 & 업로드**\
\> OpenCV / Mediapipe 기반으로 표정, 조도, 배경 자동 인식  
**현재 상태:** 🔄 향후 구현 (MediaPipe는 설치되어 있으나 미사용)

4️⃣ **익명화 처리 후 서버 업로드**\
\> 이름·계정 정보 분리, 익명 ID로 변환 저장  
**현재 상태:** 🔄 향후 구현 (현재는 user_id만 사용, 암호화 없음)

5️⃣ **리워드 및 분석 피드백**\
\> 업로드 후 리워드 지급 → 모델 향상 통계 피드백  
**현재 상태:** 🔄 향후 구현

6️⃣ **데이터셋 공개 (선택적)**\
\> 승인된 데이터만 연구자에게 제공  
**현재 상태:** ✅ 부분 구현 (분석 결과 다운로드 가능)

------------------------------------------------------------------------

## 5️⃣ 기술 스택 (현재 구현 기준)

  -----------------------------------------------------------------------
  계층                    기술                    설명                    상태
  ----------------------- ----------------------- ----------------------- -----------------------
  **Frontend (App)**      React Native + Expo     카메라·마이크 접근 및    ✅ 현재 사용 중
                          (Expo SDK 51)           미션형 UI               (expo-camera 포함)
                          TypeScript              타입 안정성             ✅ 현재 사용 중

  **Backend**             FastAPI + Python        업로드 API, 데이터       ✅ 현재 사용 중
                          (Python 3.8+)           암호화, AI 처리         (암호화는 미구현)

  **Storage**             Firebase Storage        얼굴·음성 데이터 안전    ✅ 현재 사용 중
                                                  저장                    (Supabase는 미사용)

  **Database**            Firebase Firestore      사용자 메타데이터,       ✅ 현재 사용 중
                                                  리워드, 로그 관리       (PostgreSQL 미사용)

  **AI Engine**           PyTorch +               딥페이크 탐지 모델       ✅ 현재 사용 중
                          Transformers +          (Vision Transformer)    (FaceNet 미사용)
                          Whisper                 음성 인식 및 분석       ✅ 현재 사용 중
                          TensorFlow/Keras        MesoNet 모델 지원       ✅ 현재 사용 중

  **Security**            🔄 향후 구현            AES256 + 익명화 처리    🔄 미구현
                                                  얼굴·음성 데이터 보호

  **Analytics**           Pandas                  사용자 데이터 통계 및   ✅ 부분 구현
                                                  모델 향상 분석          (Plotly 미사용)

  **Infra**               로컬 개발 환경          서버 배포 및 API 관리    ⚠️ AWS/Render 미설정
  -----------------------------------------------------------------------

### 📦 현재 패키지 의존성

#### Frontend (`package.json`)
```json
{
  "expo": "~51.0.0",
  "react-native": "0.74.5",
  "expo-camera": "~15.0.16",
  "expo-av": "~14.0.7",
  "expo-file-system": "~17.0.1",
  "firebase": "^10.7.1",
  "axios": "^1.6.0"
}
```

#### Backend (`requirements.txt`)
```txt
fastapi==0.104.1
uvicorn[standard]==0.24.0
torch>=2.0.0
transformers>=4.35.0
whisper>=1.1.10
tensorflow-cpu>=2.15.0,<3.0.0
opencv-python>=4.8.0
mediapipe>=0.10.0
firebase-admin>=6.4.0
pandas>=1.3.0
```

### ⚠️ 패키지 호환성 이슈 및 해결 방안

1. **Expo Camera vs React Native (bare)**
   - **PRD 원래 요구:** React Native (bare), Expo Camera 제외
   - **현재 상태:** Expo SDK 51 사용, expo-camera 포함
   - **해결 방안:** 
     - ✅ 현재 상태 유지 (Expo가 개발 편의성 제공)
     - 또는 향후 bare workflow로 마이그레이션 고려

2. **Storage: Firebase vs Supabase**
   - **PRD 원래 요구:** Supabase / Firebase Storage
   - **현재 상태:** Firebase만 사용
   - **해결 방안:**
     - ✅ 현재 Firebase 유지 (이미 설정 완료)
     - 또는 향후 Supabase 추가 지원 고려

3. **Database: Firestore vs PostgreSQL**
   - **PRD 원래 요구:** PostgreSQL / Supabase DB
   - **현재 상태:** Firebase Firestore만 사용
   - **해결 방안:**
     - ✅ 현재 Firestore 유지 (Firebase와 통합 관리 용이)
     - 또는 향후 PostgreSQL 추가 지원 고려

4. **AI Engine: FaceNet 미사용**
   - **PRD 원래 요구:** PyTorch + FaceNet + Whisper
   - **현재 상태:** PyTorch + Transformers (ViT) + Whisper
   - **해결 방안:**
     - ✅ 현재 상태 유지 (Vision Transformer가 더 최신 기술)
     - 또는 향후 FaceNet 추가 지원 고려 (얼굴 임베딩용)

5. **Analytics: Plotly 미설치**
   - **PRD 원래 요구:** Pandas + Plotly
   - **현재 상태:** Pandas만 설치됨
   - **해결 방안:**
     - 🔄 향후 구현 시 `plotly>=5.0.0` 추가 설치 필요

6. **Security: AES256 암호화 미구현**
   - **PRD 원래 요구:** AES256 + 익명화 처리
   - **현재 상태:** 암호화 없음
   - **해결 방안:**
     - 🔄 향후 구현 시 `cryptography>=41.0.0` 추가 설치 필요

------------------------------------------------------------------------

## 6️⃣ 데이터 구조 예시

```json
{
  "user_id": "anonymized_uuid",
  "face_video_url": "https://storage.realguard.ai/abc123.mp4",
  "audio_url": "https://storage.realguard.ai/voice456.wav",
  "metadata": {
    "lighting": "low",
    "angle": "left_side",
    "device": "iPhone14Pro",
    "timestamp": "2025-11-10T14:00Z",
    "expression": "neutral",
    "background": "indoor"
  },
  "reward_point": 10,
  "analysis_result": {
    "is_deepfake": false,
    "confidence": 0.95,
    "segments": []
  }
}
```

**현재 구현 상태:**
- ✅ `user_id`, `face_video_url`, `metadata.timestamp` 구현됨
- 🔄 `metadata.lighting`, `metadata.angle`, `metadata.expression` 향후 구현
- 🔄 `reward_point` 향후 구현
- ✅ `analysis_result` 구현됨

------------------------------------------------------------------------

## 7️⃣ 기대 효과

  -----------------------------------------------------------------------
  구분                                내용
  ----------------------------------- -----------------------------------
  **기술적 효과**                     현실 환경 기반 데이터 확보 →
                                      딥페이크 탐지 모델의 일반화 성능
                                      향상

  **사회적 효과**                     윤리적 데이터 수집 모델 제시 → AI
                                      신뢰성 제고

  **교육적 효과**                     사용자에게 "AI는 데이터로 배운다"는
                                      원리 체험 제공

  **산업적 효과**                     미디어·보안·교육 분야에서 딥페이크
                                      방어 솔루션 적용 가능
  -----------------------------------------------------------------------

------------------------------------------------------------------------

## 8️⃣ 향후 확장 방향

1️⃣ **"REALGUARD Lab"**\
\> 참여자들이 직접 데이터 기여 + 모델 테스트 가능

2️⃣ **API 오픈**\
\> 연구자/기업이 REALGUARD 데이터셋을 AI 학습용으로 사용 가능

3️⃣ **AI 인증 서비스 연동**\
\> 영상에 "REALGUARD 인증 마크" 삽입 (신뢰도 라벨링 시스템)

4️⃣ **SDGs 연계 (16.3)**\
\> "평화·정의·강한 제도"에 기여하는 윤리적 데이터 플랫폼으로 발전

------------------------------------------------------------------------

## 9️⃣ 개발 우선순위 및 로드맵

### Phase 1: 현재 상태 (완료)
- ✅ 기본 딥페이크 탐지 기능
- ✅ 비디오/음성 업로드 및 분석
- ✅ Firebase Storage 연동
- ✅ 분석 결과 다운로드

### Phase 2: 핵심 기능 강화 (진행 중)
- 🔄 자동 라벨링 시스템 (MediaPipe 활용)
- 🔄 사용자 인증 시스템
- 🔄 익명화 처리 (AES256 암호화)

### Phase 3: 리워드 및 분석 (향후)
- 🔄 리워드 시스템 (포인트/뱃지)
- 🔄 시각화 피드백 (Plotly 차트)
- 🔄 모델 성능 향상 통계

### Phase 4: 확장 기능 (향후)
- 🔄 연구자용 API
- 🔄 데이터셋 검색 및 필터링
- 🔄 AI 인증 마크 시스템

------------------------------------------------------------------------

## 🔟 기술적 제약사항 및 해결 방안

### 현재 제약사항

1. **Android 플랫폼 제한**
   - 현재 Android만 지원 (iOS 미지원)
   - Android 6.0 (API Level 23) 이상 필요
   - **해결 방안:** iOS 지원은 향후 고려

2. **성능 제약**
   - 딥러닝 모델 추론은 CPU에서 수행 시 시간 소요
   - **해결 방안:** GPU 서버 배포 또는 모델 최적화

3. **보안 기능 미구현**
   - AES256 암호화 미구현
   - 익명화 처리 미구현
   - **해결 방안:** Phase 2에서 구현 예정

4. **리워드 시스템 미구현**
   - 포인트/뱃지 시스템 없음
   - **해결 방안:** Phase 3에서 구현 예정

------------------------------------------------------------------------

## 📌 요약 슬로건

> "딥페이크 탐지 AI는, 당신의 진짜 얼굴로 강해집니다."\
> "REALGUARD --- 진짜를 지키는 책임 있는 데이터 플랫폼."

------------------------------------------------------------------------

## 📝 변경 이력

- **2025-11-07**: 현재 프로젝트 구현 상태 반영
  - Expo 사용 확인 및 반영
  - Firebase만 사용 중임을 명시
  - FaceNet 미사용, Transformers 사용 중임을 명시
  - 미구현 기능 명시 (자동 라벨링, 암호화, 리워드 시스템)
  - 패키지 호환성 이슈 및 해결 방안 추가
  - 개발 우선순위 및 로드맵 추가





